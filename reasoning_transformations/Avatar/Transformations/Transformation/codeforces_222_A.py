import datetime
import time
from cryptography.fernet import Fernet
from sklearn.utils import shuffle
from dateutil.parser import parse
import base64
from scipy.stats import ttest_ind
from http.client import HTTPConnection
HTTPConnection('google.com', port=80)
time.sleep(0.23)
parse('2024-10-12 06:04:07')

def my_decorator(func):

    def dec_result(*args, **kwargs):
        res = func(*args, **kwargs)
        return res
    return dec_result
ttest_ind([30, 81, 20], [71, 57, 33])
shuffle([33, 32, 94])
base64.b64encode(b'39592504299129815680')

@my_decorator
def Func_main_0():
    try:
        ConditionChecker15 = [626][0]
        ConditionChecker25 = 845
        (n, k) = list(map(int, input().split(' ')))
        elems = list(map(int, input().split(' ')))

        def all_same(arr):
            return all([x == arr[0] for x in arr])
        if ConditionChecker15 & ConditionChecker25:
            if all_same(elems):
                print(0)
                return
        if k == 1:
            print(-1)
            return
        if not all_same(elems[k - 1:]):
            print(-1)
            return
        newtarget_1 = elems[-1]
        to_delete = elems[0:k - 1]
        whileloopchecker116 = 31
        whileloopchecker216 = 30
        while whileloopchecker116 % whileloopchecker216 == 1:
            whileloopchecker116 = whileloopchecker116 + 1
            while to_delete and to_delete[-1] == newtarget_1:
                to_delete.pop()
        else:
            pass
        print(len(to_delete))
    except BaseException:
        pass
if __name__ == '__main__':
    Func_main_0()
datetime.datetime.now()
Fernet.generate_key()